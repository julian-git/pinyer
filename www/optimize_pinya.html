<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Pinyer - Optimize pinya</title>
  <link rel="stylesheet" href="css/jquery-ui.css">
  <link rel="stylesheet" href="css/pinyer.css">
  <script src="js/jquery.min.js"></script>
  <script src="js/jquery-ui.min.js"></script>
  <style>
    cast {
    margin: 0px 0px 0px 0px; padding: 0px; width: 0px; height: 0px;
    }
  </style>
  <script>
    errfunc = function(XMLHttpRequest, textStatus, errorThrown) {
    console.log('An error "' + errorThrown + '", status "' + textStatus + '" occurred during loading data: ' + XMLHttpRequest.responseText);
    }
    $(function() {
    $.ajax({
    url: "http://localhost/pinyer/info.py?what=solved_pinya&castell_id_name=cvg.3de9f",
    dataType: 'text',

    success: function(data) {
      $('<p/>', {
         'id'   : 'pinya',
         'html' : data
      }).appendTo('#pinya_wrap');
      $(".rel").addClass(rel.invisible);
    },

    error: errfunc
    });
    
    $.ajax({
    url: "http://localhost/pinyer/info.py?what=rel_types&castell_id_name=cvg.3de9f",
    dataType: 'json',

    success: function(rels) {
      for (var i=0; i<rels.length; i++) {
        var label_id = 'chk_' + rels[i];
        $('<input/>', {
           'type'   : 'checkbox',
           'id'     : label_id,
           'html'   : rels[i]
        }).appendTo('#control_wrap').click(function(){
	   alert($(this).text())
        });
        $('<label/>', { 
           'for'    : label_id,
           'html'   : rels[i]
        }).appendTo('#control_wrap');
      }
    },
    
    error: errfunc
    });
    });

  </script>
</head>
<body>
  <div id="control_wrap">
  </div>
  <div id="pinya_wrap">
  </div>
</body>
</html>
